var VueLivr=function(){"use strict";const e=e=>{if(!e)return!1;const{tag:r}=e.componentOptions;return/^(keep-alive|transition|transition-group)$/.test(r)};var r={isPrimitiveValue:e=>"string"==typeof e||(!("number"!=typeof e||!isFinite(e))||"boolean"==typeof e),looksLikeNumber:e=>!isNaN(+e),isObject:e=>Object(e)===e&&Object.getPrototypeOf(e)===Object.prototype,isEmptyObject(e){for(const r in e)if(e.hasOwnProperty(r))return!1;return!0},escapeRegExp:e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),isNoValue:e=>null==e||""===e},t={required:()=>e=>{if(r.isNoValue(e))return"REQUIRED"},not_empty:()=>e=>{if(null!=e&&""===e)return"CANNOT_BE_EMPTY"},not_empty_list:()=>e=>void 0===e||""===e?"CANNOT_BE_EMPTY":Array.isArray(e)?e.length<1?"CANNOT_BE_EMPTY":void 0:"FORMAT_ERROR",any_object:()=>e=>{if(!r.isNoValue(e))return r.isObject(e)?void 0:"FORMAT_ERROR"}},i={string:()=>(e,t,i)=>{if(!r.isNoValue(e))return r.isPrimitiveValue(e)?void i.push(e+""):"FORMAT_ERROR"},eq:e=>(t,i,s)=>{if(!r.isNoValue(t)){if(!r.isPrimitiveValue(t))return"FORMAT_ERROR";if(t+""!=e+"")return"NOT_ALLOWED_VALUE";s.push(e)}},one_of(e){return Array.isArray(e)||(e=Array.prototype.slice.call(arguments)).pop(),(t,i,s)=>{if(!r.isNoValue(t)){if(!r.isPrimitiveValue(t))return"FORMAT_ERROR";for(const r of e)if(t+""==r+"")return void s.push(r);return"NOT_ALLOWED_VALUE"}}},max_length:e=>(t,i,s)=>{if(!r.isNoValue(t)){if(!r.isPrimitiveValue(t))return"FORMAT_ERROR";if((t+="").length>e)return"TOO_LONG";s.push(t)}},min_length:e=>(t,i,s)=>{if(!r.isNoValue(t)){if(!r.isPrimitiveValue(t))return"FORMAT_ERROR";if((t+="").length<e)return"TOO_SHORT";s.push(t)}},length_equal:e=>(t,i,s)=>{if(!r.isNoValue(t))return r.isPrimitiveValue(t)?(t+="").length<e?"TOO_SHORT":t.length>e?"TOO_LONG":void s.push(t):"FORMAT_ERROR"},length_between:(e,t)=>(i,s,n)=>{if(!r.isNoValue(i))return r.isPrimitiveValue(i)?(i+="").length<e?"TOO_SHORT":i.length>t?"TOO_LONG":void n.push(i):"FORMAT_ERROR"},like(e,t){const i=3===arguments.length&&t.match("i"),s=new RegExp(e,i?"i":"");return(e,t,i)=>{if(!r.isNoValue(e)){if(!r.isPrimitiveValue(e))return"FORMAT_ERROR";if(!(e+="").match(s))return"WRONG_FORMAT";i.push(e)}}}},s={integer:()=>(e,t,i)=>{if(!r.isNoValue(e))return r.isPrimitiveValue(e)?r.looksLikeNumber(e)&&Number.isInteger(+e)?void i.push(+e):"NOT_INTEGER":"FORMAT_ERROR"},positive_integer:()=>(e,t,i)=>{if(!r.isNoValue(e))return r.isPrimitiveValue(e)?r.looksLikeNumber(e)?!Number.isInteger(+e)||+e<1?"NOT_POSITIVE_INTEGER":void i.push(+e):"NOT_POSITIVE_INTEGER":"FORMAT_ERROR"},decimal:()=>(e,t,i)=>{if(!r.isNoValue(e)){if(!r.isPrimitiveValue(e))return"FORMAT_ERROR";if(!r.looksLikeNumber(e))return"NOT_DECIMAL";if(!/^(?:\-?(?:(?:[0-9]+\.[0-9]+)|(?:[0-9]+)))$/.test(e+=""))return"NOT_DECIMAL";i.push(+e)}},positive_decimal:()=>(e,t,i)=>{if(!r.isNoValue(e)){if(!r.isPrimitiveValue(e))return"FORMAT_ERROR";if(!r.looksLikeNumber(e))return"NOT_POSITIVE_DECIMAL";if(!/^(?:(?:[0-9]*\.[0-9]+)|(?:[1-9][0-9]*))$/.test(e+=""))return"NOT_POSITIVE_DECIMAL";i.push(+e)}},max_number:e=>(t,i,s)=>{if(!r.isNoValue(t))return r.isPrimitiveValue(t)?r.looksLikeNumber(t)?+t>+e?"TOO_HIGH":void s.push(+t):"NOT_NUMBER":"FORMAT_ERROR"},min_number:e=>(t,i,s)=>{if(!r.isNoValue(t))return r.isPrimitiveValue(t)?r.looksLikeNumber(t)?+t<+e?"TOO_LOW":void s.push(+t):"NOT_NUMBER":"FORMAT_ERROR"},number_between:(e,t)=>(i,s,n)=>{if(!r.isNoValue(i))return r.isPrimitiveValue(i)?r.looksLikeNumber(i)?+i<+e?"TOO_LOW":+i>+t?"TOO_HIGH":void n.push(+i):"NOT_NUMBER":"FORMAT_ERROR"}},n={email(){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t=>{if(!r.isNoValue(t))return r.isPrimitiveValue(t)?(t+="",e.test(t)?/\@.*\@/.test(t)?"WRONG_EMAIL":/\@.*_/.test(t)?"WRONG_EMAIL":void 0:"WRONG_EMAIL"):"FORMAT_ERROR"}},equal_to_field:e=>(t,i)=>{if(!r.isNoValue(t))return r.isPrimitiveValue(t)?t!=i[e]?"FIELDS_NOT_EQUAL":void 0:"FORMAT_ERROR"},url(){const e=new RegExp("^(?:(?:http|https)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[0-1]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))\\.?|localhost)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i");return t=>{if(!r.isNoValue(t)){if(!r.isPrimitiveValue(t))return"FORMAT_ERROR";if(!(t.length<2083&&e.test(t)))return"WRONG_URL"}}},iso_date:()=>e=>{if(r.isNoValue(e))return;if(!r.isPrimitiveValue(e))return"FORMAT_ERROR";const t=e.match(/^(\d{4})-([0-1][0-9])-([0-3][0-9])$/);if(t){const r=Date.parse(e);if(!r&&0!==r)return"WRONG_DATE";const i=new Date(r);if(i.setTime(i.getTime()+60*i.getTimezoneOffset()*1e3),i.getFullYear()==t[1]&&i.getMonth()+1==+t[2]&&i.getDate()==+t[3])return}return"WRONG_DATE"}};const o={};let u=0;class a{constructor(e,r){this.isPrepared=!1,this.livrRules=e,this.validators={},this.validatorBuilders={},this.errors=null,this.isAutoTrim=null!=r?r:u,this.registerRules(o)}static getDefaultRules(){return o}static registerAliasedDefaultRule(e){if(!e.name)throw"Alias name required";o[e.name]=this._buildAliasedRule(e.rules,e.error)}static registerDefaultRules(e){for(const r in e)o[r]=e[r]}static defaultAutoTrim(e){u=!!e}static _buildAliasedRule(e,r){if(!e)throw"Alias rules required";const t={value:e};return e=>{const i=new a(t).registerRules(e).prepare();return(e,t,s)=>{const n=i.validate({value:e});return n?void s.push(n.value):r||i.getErrors().value}}}prepare(){const e=this.livrRules;for(const r in e){let t=e[r];Array.isArray(t)||(t=[t]);const i=[];for(const e of t){const r=this._parseRule(e);i.push(this._buildValidator(r.name,r.args))}this.validators[r]=i}return this.isPrepared=!0,this}validate(e){if(this.isPrepared||this.prepare(),!r.isObject(e))return void(this.errors="FORMAT_ERROR");this.isAutoTrim&&(e=this._autoTrim(e));const t={},i={};for(const r in this.validators){const s=this.validators[r];if(!s||!s.length)continue;const n=e[r];for(const o of s){const s=[],u=o(i.hasOwnProperty(r)?i[r]:n,e,s);if(u){t[r]=u;break}s.length?i[r]=s[0]:e.hasOwnProperty(r)&&!i.hasOwnProperty(r)&&(i[r]=n)}}return r.isEmptyObject(t)?(this.errors=null,i):(this.errors=t,!1)}getErrors(){return this.errors}registerRules(e){for(const r in e)this.validatorBuilders[r]=e[r];return this}registerAliasedRule(e){if(!e.name)throw"Alias name required";return this.validatorBuilders[e.name]=this.constructor._buildAliasedRule(e.rules,e.error),this}getRules(){return this.validatorBuilders}_parseRule(e){let t,i;return r.isObject(e)?(i=e[t=Object.keys(e)[0]],Array.isArray(i)||(i=[i])):(t=e,i=[]),{name:t,args:i}}_buildValidator(e,r){if(!this.validatorBuilders[e])throw"Rule ["+e+"] not registered";const t=[];return t.push.apply(t,r),t.push(this.getRules()),this.validatorBuilders[e].apply(null,t)}_autoTrim(e){const t=typeof e;if("object"!==t&&e)return e.replace?e.replace(/^\s*/,"").replace(/\s*$/,""):e;if("object"==t&&Array.isArray(e)){const r=[];for(const t of e)r.push(this._autoTrim(t));return r}if("object"==t&&r.isObject(e)){const r={};for(const t in e)e.hasOwnProperty(t)&&(r[t]=this._autoTrim(e[t]));return r}return e}}var l=a,c={nested_object(e,t){const i=new l(e).registerRules(t).prepare();return(e,t,s)=>{if(r.isNoValue(e))return;if(!r.isObject(e))return"FORMAT_ERROR";const n=i.validate(e);return n?void s.push(n):i.getErrors()}},variable_object(e,t,i){const s={};for(const e in t){const r=new l(t[e]).registerRules(i).prepare();s[e]=r}return(t,i,n)=>{if(r.isNoValue(t))return;if(!r.isObject(t)||!t[e]||!s[t[e]])return"FORMAT_ERROR";const o=s[t[e]],u=o.validate(t);return u?void n.push(u):o.getErrors()}},list_of(e,t){Array.isArray(e)||(t=(e=Array.prototype.slice.call(arguments)).pop());const i=new l({field:e}).registerRules(t).prepare();return(e,t,s)=>{if(r.isNoValue(e))return;if(!Array.isArray(e))return"FORMAT_ERROR";const n=[],o=[];let u=!1;for(const r of e){const e=i.validate({field:r});e?(n.push(e.field),o.push(null)):(u=!0,o.push(i.getErrors().field),n.push(null))}return u?o:void s.push(n)}},list_of_objects(e,t){const i=new l(e).registerRules(t).prepare();return(e,t,s)=>{if(r.isNoValue(e))return;if(!Array.isArray(e))return"FORMAT_ERROR";const n=[],o=[];let u=!1;for(const r of e){const e=i.validate(r);e?(n.push(e),o.push(null)):(u=!0,o.push(i.getErrors()),n.push(null))}return u?o:void s.push(n)}},list_of_different_objects(e,t,i){const s={};for(const e in t){const r=new l(t[e]).registerRules(i).prepare();s[e]=r}return(t,i,n)=>{if(r.isNoValue(t))return;if(!Array.isArray(t))return"FORMAT_ERROR";const o=[],u=[];let a=!1;for(const r of t){if("object"!=typeof r||!r[e]||!s[r[e]]){u.push("FORMAT_ERROR");continue}const t=s[r[e]],i=t.validate(r);i?(o.push(i),u.push(null)):(a=!0,u.push(t.getErrors()),o.push(null))}return a?u:void n.push(o)}},or(){const e=Array.prototype.slice.call(arguments),t=e.pop(),i=e.map(e=>{return new l({field:e}).registerRules(t).prepare()});return(e,t,s)=>{if(r.isNoValue(e))return;let n;for(const r of i){const t=r.validate({field:e});if(t)return void s.push(t.field);n=r.getErrors().field}return n||void 0}}},f={default:e=>(t,i,s)=>{r.isNoValue(t)&&s.push(e)},trim:()=>(e,t,i)=>{r.isNoValue(e)||"object"==typeof e||(e+="",i.push(e.replace(/^\s*/,"").replace(/\s*$/,"")))},to_lc:()=>(e,t,i)=>{r.isNoValue(e)||"object"==typeof e||(e+="",i.push(e.toLowerCase()))},to_uc:()=>(e,t,i)=>{r.isNoValue(e)||"object"==typeof e||(e+="",i.push(e.toUpperCase()))},remove(e){e=r.escapeRegExp(e);const t=new RegExp("["+e+"]","g");return(e,i,s)=>{r.isNoValue(e)||"object"==typeof e||(e+="",s.push(e.replace(t,"")))}},leave_only(e){e=r.escapeRegExp(e);const t=new RegExp("[^"+e+"]","g");return(e,i,s)=>{r.isNoValue(e)||"object"==typeof e||(e+="",s.push(e.replace(t,"")))}}};const h={rules:{}};h.rules.common=t,h.rules.string=i,h.rules.numeric=s,h.rules.special=n,h.rules.meta=c,h.rules.modifiers=f,h.Validator=l,h.util=r,h.Validator.registerDefaultRules({required:h.rules.common.required,not_empty:h.rules.common.not_empty,not_empty_list:h.rules.common.not_empty_list,any_object:h.rules.common.any_object,string:h.rules.string.string,eq:h.rules.string.eq,one_of:h.rules.string.one_of,max_length:h.rules.string.max_length,min_length:h.rules.string.min_length,length_equal:h.rules.string.length_equal,length_between:h.rules.string.length_between,like:h.rules.string.like,integer:h.rules.numeric.integer,positive_integer:h.rules.numeric.positive_integer,decimal:h.rules.numeric.decimal,positive_decimal:h.rules.numeric.positive_decimal,max_number:h.rules.numeric.max_number,min_number:h.rules.numeric.min_number,number_between:h.rules.numeric.number_between,email:h.rules.special.email,equal_to_field:h.rules.special.equal_to_field,url:h.rules.special.url,iso_date:h.rules.special.iso_date,nested_object:h.rules.meta.nested_object,variable_object:h.rules.meta.variable_object,list_of:h.rules.meta.list_of,list_of_objects:h.rules.meta.list_of_objects,or:h.rules.meta.or,list_of_different_objects:h.rules.meta.list_of_different_objects,default:h.rules.modifiers.default,trim:h.rules.modifiers.trim,to_lc:h.rules.modifiers.to_lc,to_uc:h.rules.modifiers.to_uc,remove:h.rules.modifiers.remove,leave_only:h.rules.modifiers.leave_only});var p=h;const d=(e,r)=>{return(...t)=>{const i=r(...t),s=t.splice(0,t.length-1);return(...r)=>{const t=i(...r);if(t){const r={[e]:s};return Array.isArray(t)?t[0]:(e=>"object"==typeof e)(t)?t:{code:t,rule:r}}return""}}};var _="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},v="object"==typeof _&&_&&_.Object===Object&&_,R="object"==typeof self&&self&&self.Object===Object&&self,m=v||R||Function("return this")(),O=m.Symbol,g=Object.prototype,y=g.hasOwnProperty,b=g.toString,E=O?O.toStringTag:void 0;var A=function(e){var r=y.call(e,E),t=e[E];try{e[E]=void 0;var i=!0}catch(e){}var s=b.call(e);return i&&(r?e[E]=t:delete e[E]),s},T=Object.prototype.toString;var N=function(e){return T.call(e)},j="[object Null]",V="[object Undefined]",$=O?O.toStringTag:void 0;var w=function(e){return null==e?void 0===e?V:j:$&&$ in Object(e)?A(e):N(e)};var M=function(e){var r=typeof e;return null!=e&&("object"==r||"function"==r)},P="[object AsyncFunction]",F="[object Function]",L="[object GeneratorFunction]",I="[object Proxy]";var k,D=function(e){if(!M(e))return!1;var r=w(e);return r==F||r==L||r==P||r==I},z=m["__core-js_shared__"],S=(k=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"";var x=function(e){return!!S&&S in e},B=Function.prototype.toString;var G=function(e){if(null!=e){try{return B.call(e)}catch(e){}try{return e+""}catch(e){}}return""},q=/^\[object .+?Constructor\]$/,C=Function.prototype,W=Object.prototype,U=C.toString,H=W.hasOwnProperty,Y=RegExp("^"+U.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Q=function(e){return!(!M(e)||x(e))&&(D(e)?Y:q).test(G(e))};var Z=function(e,r){return null==e?void 0:e[r]};var J=function(e,r){var t=Z(e,r);return Q(t)?t:void 0},K=function(){try{var e=J(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var X=function(e,r,t){"__proto__"==r&&K?K(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t};var ee=function(e,r){return e===r||e!=e&&r!=r},re=Object.prototype.hasOwnProperty;var te=function(e,r,t){var i=e[r];re.call(e,r)&&ee(i,t)&&(void 0!==t||r in e)||X(e,r,t)},ie=Array.isArray;var se=function(e){return null!=e&&"object"==typeof e},ne="[object Symbol]";var oe=function(e){return"symbol"==typeof e||se(e)&&w(e)==ne},ue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ae=/^\w*$/;var le=function(e,r){if(ie(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!oe(e))||ae.test(e)||!ue.test(e)||null!=r&&e in Object(r)},ce=J(Object,"create");var fe=function(){this.__data__=ce?ce(null):{},this.size=0};var he=function(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r},pe="__lodash_hash_undefined__",de=Object.prototype.hasOwnProperty;var _e=function(e){var r=this.__data__;if(ce){var t=r[e];return t===pe?void 0:t}return de.call(r,e)?r[e]:void 0},ve=Object.prototype.hasOwnProperty;var Re=function(e){var r=this.__data__;return ce?void 0!==r[e]:ve.call(r,e)},me="__lodash_hash_undefined__";var Oe=function(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=ce&&void 0===r?me:r,this};function ge(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var i=e[r];this.set(i[0],i[1])}}ge.prototype.clear=fe,ge.prototype.delete=he,ge.prototype.get=_e,ge.prototype.has=Re,ge.prototype.set=Oe;var ye=ge;var be=function(){this.__data__=[],this.size=0};var Ee=function(e,r){for(var t=e.length;t--;)if(ee(e[t][0],r))return t;return-1},Ae=Array.prototype.splice;var Te=function(e){var r=this.__data__,t=Ee(r,e);return!(t<0||(t==r.length-1?r.pop():Ae.call(r,t,1),--this.size,0))};var Ne=function(e){var r=this.__data__,t=Ee(r,e);return t<0?void 0:r[t][1]};var je=function(e){return Ee(this.__data__,e)>-1};var Ve=function(e,r){var t=this.__data__,i=Ee(t,e);return i<0?(++this.size,t.push([e,r])):t[i][1]=r,this};function $e(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var i=e[r];this.set(i[0],i[1])}}$e.prototype.clear=be,$e.prototype.delete=Te,$e.prototype.get=Ne,$e.prototype.has=je,$e.prototype.set=Ve;var we=$e,Me=J(m,"Map");var Pe=function(){this.size=0,this.__data__={hash:new ye,map:new(Me||we),string:new ye}};var Fe=function(e){var r=typeof e;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e};var Le=function(e,r){var t=e.__data__;return Fe(r)?t["string"==typeof r?"string":"hash"]:t.map};var Ie=function(e){var r=Le(this,e).delete(e);return this.size-=r?1:0,r};var ke=function(e){return Le(this,e).get(e)};var De=function(e){return Le(this,e).has(e)};var ze=function(e,r){var t=Le(this,e),i=t.size;return t.set(e,r),this.size+=t.size==i?0:1,this};function Se(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var i=e[r];this.set(i[0],i[1])}}Se.prototype.clear=Pe,Se.prototype.delete=Ie,Se.prototype.get=ke,Se.prototype.has=De,Se.prototype.set=ze;var xe=Se,Be="Expected a function";function Ge(e,r){if("function"!=typeof e||null!=r&&"function"!=typeof r)throw new TypeError(Be);var t=function(){var i=arguments,s=r?r.apply(this,i):i[0],n=t.cache;if(n.has(s))return n.get(s);var o=e.apply(this,i);return t.cache=n.set(s,o)||n,o};return t.cache=new(Ge.Cache||xe),t}Ge.Cache=xe;var qe=Ge,Ce=500;var We=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ue=/\\(\\)?/g,He=function(e){var r=qe(e,function(e){return t.size===Ce&&t.clear(),e}),t=r.cache;return r}(function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(We,function(e,t,i,s){r.push(i?s.replace(Ue,"$1"):t||e)}),r});var Ye=function(e,r){for(var t=-1,i=null==e?0:e.length,s=Array(i);++t<i;)s[t]=r(e[t],t,e);return s},Qe=1/0,Ze=O?O.prototype:void 0,Je=Ze?Ze.toString:void 0;var Ke=function e(r){if("string"==typeof r)return r;if(ie(r))return Ye(r,e)+"";if(oe(r))return Je?Je.call(r):"";var t=r+"";return"0"==t&&1/r==-Qe?"-0":t};var Xe=function(e){return null==e?"":Ke(e)};var er=function(e,r){return ie(e)?e:le(e,r)?[e]:He(Xe(e))},rr=9007199254740991,tr=/^(?:0|[1-9]\d*)$/;var ir=function(e,r){var t=typeof e;return!!(r=null==r?rr:r)&&("number"==t||"symbol"!=t&&tr.test(e))&&e>-1&&e%1==0&&e<r},sr=1/0;var nr=function(e){if("string"==typeof e||oe(e))return e;var r=e+"";return"0"==r&&1/e==-sr?"-0":r};var or=function(e,r,t,i){if(!M(e))return e;for(var s=-1,n=(r=er(r,e)).length,o=n-1,u=e;null!=u&&++s<n;){var a=nr(r[s]),l=t;if(s!=o){var c=u[a];void 0===(l=i?i(c,a,u):void 0)&&(l=M(c)?c:ir(r[s+1])?[]:{})}te(u,a,l),u=u[a]}return e};var ur=function(e,r,t){return null==e?e:or(e,r,t)};var ar=function(e,r){for(var t=0,i=(r=er(r,e)).length;null!=e&&t<i;)e=e[nr(r[t++])];return t&&t==i?e:void 0};var lr=function(e,r,t){var i=null==e?void 0:ar(e,r);return void 0===i?t:i};const cr=(e={},r,t,i)=>{const s=e[t];return s?s(r,i):""},fr=(e,r,t=[])=>Object.entries(e).reduce((e,[i,s])=>{let n=[].concat(t);if(n.push(i),s.code){const[[,e]]=Object.entries(s.rule);Object.assign(s,{msg:cr(r,n.join("."),s.code,e)}),n=[]}else fr(s,r,n);return Object.assign(e,{[i]:s})},{});class hr{constructor(e,r){this.handlers=r.handlers,this.patchRules=r.patchRules,this.allTouched=!1,e&&e instanceof hr?(this.items=e.items,this.touchedFields=e.touchedFields):(this.items={},this.touchedFields={})}setTouched(e){ur(this.touchedFields,e,!0)}setAllTouched(e=!1){this.allTouched=e}setError(e,r){const t=fr(e,this.handlers),i=r?this.items:{};if(this.items=Object.assign({},i,t),r){lr(t,r,!1)||ur(this.items,r,"")}}clearErrors(){Object.keys(this.items).forEach(e=>this.clearError(e))}clearError(e){this.setError({},e)}getError(e){return this.hasError(e)?lr(this.items,`${e}.msg`,""):""}hasError(e){const r=this.allTouched||lr(this.touchedFields,e,!1),t=lr(this.items,`${e}.msg`,"");return r&&""!==t}}const pr=()=>{const e=p.Validator.getDefaultRules(),r=Object.entries(e).reduce((e,[r,t])=>Object.assign(e,{[r]:d(r,t)}),{});p.Validator.registerDefaultRules(r)};class dr{constructor(e,r){this.patchRules=r.patchRules,this.aliasedRules=r.aliasedRules,p.Validator.registerDefaultRules(r.extraRules),this.errors=new hr(null,r),this.patchRules&&pr(),this.fields={items:[]},this.$gzLivr=e||{_vm:{$emit:()=>{},$off:()=>{}}}}validate(e,r,t){this.validator=new p.Validator(e);const i=this.validator.validate(r),s=i||this.validator.getErrors();return i?(this.errors.clearError(t),s):(this.errors.setError(s,t),this.errors.setTouched(t),{errors:this.errors.items})}registerAliasedDefaultRule(){p.Validator.registerAliasedDefaultRule(this.aliasedRules)}validateAll(e,r){this.validator=new p.Validator(e);const t=this.validator.validate(r),i=t||this.validator.getErrors();return t?(this.errors.clearErrors(),i):(this.errors.setError(i),this.errors.setAllTouched(!0),{errors:this.errors.items})}clearErrors(){this.errors.clearErrors()}clearError(e){this.errors.clearError(e)}}let _r=null;const vr=()=>_r,Rr=e=>(_r=e,e);let mr=Object.assign({},{errorBagName:"errors",fieldsBagName:"fields",inject:!0,aliasedRules:{},patchRules:!1,extraRules:{}});const Or=()=>mr,gr=e=>{mr=Object.assign({},mr,e)},yr=e=>!(!(e=>null!==e&&e&&"object"==typeof e&&!Array.isArray(e))(e)||!e.$livr);var br={provide(){return this.$livr&&!e(this.$vnode)?{$livr:this.$livr}:{}},beforeCreate(){if(e(this.$vnode)||!1===this.$options.$__livrInject)return;this.$parent||gr(this.$options.$_livr||{});const r=(e=>{const r=lr(e,"$options.$_livr",{});return Object.assign({},mr,r)})(this);(!this.$parent||this.$options.$_livr&&/new/.test(this.$options.$_livr.validator))&&(this.$livr=new dr(vr(),r));const t=yr(this.$options.inject);if(this.$livr||!r.inject||t||(this.$livr=new dr(vr(),r)),t||this.$livr){if(!t&&this.$livr){this.$options._base.util.defineReactive(this.$livr,"errors",this.$livr.errors)}this.$options.computed||(this.$options.computed={}),this.$options.computed[r.errorBagName||"errors"]=function(){return this.$livr.errors},this.$options.computed[r.fieldsBagName||"fields"]=function(){return this.$livr.fields.items.reduce((e,r)=>r.scope?(e[`$${r.scope}`]||(e[`$${r.scope}`]={}),e[`$${r.scope}`][r.name]=r.flags,e):(e[r.name]=r.flags,e),{})}}}};let Er,Ar;class Tr{constructor(e,r){this.configure(e),Ar=this,r&&(Er=r),this.livrInstance=Rr(new dr(null,e)),this.initVM(this.config)}static install(e,r={}){Er&&e===Er?"production"!==process.env.NODE_ENV&&console.warn("already installed, Vue.use(LivrPlugin) should only be called once."):(Er=e,Ar=new Tr(r),dr.$livr=Ar,Er.mixin(br))}initVM(){this._vm=new Er({data:()=>({errors:this.livrInstance.errors,fields:this.livrInstance.fields})})}configure(e){gr(e)}get config(){return Or()}static get config(){return Or()}static get instance(){return Ar}}return Tr}();
